# Thomas Merkel <tm@core.io>

##
## servers
##
# skylime
host *.srv.customer.skylime.net
	port 22
	user root

host *.srv.skylime.net
	port 10110
	user root

host *.core.io *.reco.io
	user root

# fruky network
host internet.f.fruky.net
	user tm

host *.f.fruky.net silo.u.fruky.net
	user root

# frubar
host *.frubar.net
	port 10110

host coconut.frubar.net
	RemoteForward 7106 localhost:7106
	LogLevel FATAL

host embassy.doc.fruky.net
	user tmerkel

# avira
host *.avira.com *.avira.net *.avira.org
	user tmerkel

# avira test network
host 10.90.101.*
	HashKnownHosts        no
	StrictHostKeyChecking no
	UserKnownHostsFile    /dev/null

##
## proxy setup
##
Host *+*
	ProxyCommand ssh $(echo %h | sed 's/+[^+]*$//;s/\([^+%%]*\)%%\([^+]*\)$/\2 -l \1/;s/:/ -p /') exec nc -w 10 $(echo %h | sed 's/^.*+//;/:/!s/$/ %p/;s/:/ /')
	ControlMaster no

Host *^*
	ProxyCommand ssh-chain %h %p
	ControlMaster no

##
## global settings
##
host *
	user tm
	port 22
	IdentityFile ~/.ssh/id_rsa
	LogLevel VERBOSE
	Protocol     2,1
	CheckHostIP  yes
	ForwardAgent yes
	ServerAliveInterval 540
	UseRoaming no
	ControlMaster auto
	ControlPath ~/.ssh/cache/%r@%h:%p
	ControlPersist 15m

# vim:syntax=sshconfig
